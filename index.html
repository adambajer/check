<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kontrola požadavků pro OKbase</title>
    <style>
        .checkmark {
            color: green;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Kontrola požadavků pro OKbase</h1>
    <ul>
        <li>140MB volného místa</li>
        <li>Android 10 nebo vyšší <span id="androidCheck"></span></li>
        <li>Aplikaci Microsoft Edge</li>
        <li>Aplikaci Portál společnosti</li>
        <li>Zámek obrazovky</li>
    </ul>
    <button onclick="checkRequirements()">Kontrola Android</button>
    <p id="result"></p>
    <h2>Informace o zařízení:</h2>
    <ul>
        <li id="os"></li>
        <li id="browser"></li>
        <li id="screen"></li>
        <li id="androidVersion"></li>
    </ul>

    <script>
   function checkRequirements() {
    let result = "Všechny požadavky jsou splněny!";
    let androidCheck = document.getElementById("androidCheck");

    try {
        let userAgent = navigator.userAgent || navigator.vendor || window.opera;

        if (/android/i.test(userAgent)) {
            let match = userAgent.match(/Android\s([0-9\.]*)/);
            let androidVersion = match ? parseFloat(match[1]) : null;

            if (androidVersion && androidVersion >= 10) {
                androidCheck.innerHTML = "✔️";
                androidCheck.classList.add("checkmark");
            } else if (androidVersion) {
                result = "Požadavek na Android 10 nebo vyšší není splněn.";
                androidCheck.innerHTML = "❌";
                androidCheck.classList.remove("checkmark");
            } else {
                result = "Verzi Androidu nebylo možné zjistit.";
                androidCheck.innerHTML = "❓";
                androidCheck.classList.remove("checkmark");
            }

            document.getElementById("androidVersion").innerText = androidVersion
                ? "Verze Androidu: " + androidVersion
                : "Android detekován, ale verze neznámá.";
        } else {
            result = "Zařízení není Android.";
            androidCheck.innerHTML = "❌";
            androidCheck.classList.remove("checkmark");
            document.getElementById("androidVersion").innerText = "";
        }
    } catch (error) {
        result = "Došlo k chybě při kontrole požadavků: " + error.message;
    }

    document.getElementById("result").innerText = result;
}


        function displayDeviceInfo() {
            let userAgent = navigator.userAgent || navigator.vendor || window.opera;
            let os = "Neznámý OS";
            let browser = "Neznámý prohlížeč";

            if (/windows phone/i.test(userAgent)) {
                os = "Windows Phone";
            } else if (/android/i.test(userAgent)) {
                os = "Android";
            } else if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                os = "iOS";
            } else if (/Macintosh/.test(userAgent)) {
                os = "Mac OS";
            } else if (/Windows/.test(userAgent)) {
                os = "Windows";
            } else if (/Linux/.test(userAgent)) {
                os = "Linux";
            }

            if (/chrome/i.test(userAgent) && !/edge/i.test(userAgent)) {
                browser = "Google Chrome";
            } else if (/safari/i.test(userAgent) && !/chrome/i.test(userAgent)) {
                browser = "Safari";
            } else if (/firefox/i.test(userAgent)) {
                browser = "Mozilla Firefox";
            } else if (/msie|trident/i.test(userAgent)) {
                browser = "Internet Explorer";
            } else if (/edge/i.test(userAgent)) {
                browser = "Microsoft Edge";
            }

            document.getElementById("os").innerText = "Operační systém: " + os;
            document.getElementById("browser").innerText = "Prohlížeč: " + browser;
            document.getElementById("screen").innerText = "Rozlišení obrazovky: " + window.screen.width + "x" + window.screen.height;
        }

        displayDeviceInfo();
    </script>
</body>
</html>
